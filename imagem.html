<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5/dist/css/bootstrap.min.css">
    <title>Suba sua Imagem</title>
    <style>
        #passwordDiv {
            display: none;
            position: fixed;
            top: 30%;
            left: 50%;
            transform: translate(-50%, -50%);
             box-shadow: 0px 0px 10px rgba(0,0,0,0.3);
			padding: 20px;
			width: 80%;
			height: 240px;
			border-radius: 5px;
			background-color: white;
        }
        #incorrectPasswordDiv {
            display: none;
            position: fixed;
            top: 30%;
            left: 50%;
            transform: translate(-50%, -50%);
             box-shadow: 0px 0px 10px rgba(0,0,0,0.3);
			padding: 20px;
			width: 80%;
			height: 240px;
			border-radius: 5px;
			background-color: white;
        }
        .uploadedImage {
            max-width: 100%;
        }
        @media (max-width: 600px) {
            body {
                font-size: 18px;
            }
        }
		#caixa{
		margin-left: 5%;
		width: 100%;
		}
		 #botao {
        width: 90%;
        margin-bottom: 30px; /*espaçamento entre os botões*/
       background-color: #008B8B; /*cores dos botões*/
      }
	  #imageInput{
	  width: 90%;
	  }
    </style>
</head>
<body>
	<div id="caixa"><br>
    <h1>Escolha suas Imagens</h1><br>
   <div class="mb-3">
	<input class="form-control" type="file" id="imageInput" accept="image/*" multiple>
   </div>
    <label for="daysInput">Dias:</label><br>
    <input type="number" id="daysInput"><br><br>
    <label for="hoursInput">Horas:</label><br>
    <input type="number" id="hoursInput"><br><br>
    <label for="minutesInput">Minutos:</label><br>
    <input type="number" id="minutesInput"><br><br>
    <label for="secondsInput">Segundos:</label><br>
    <input type="number" id="secondsInput">
    <br><br>
    <button id="botao" type="button" class="btn btn-primary" onclick="showPasswordDiv()">Click para subir</button>
	
    <!-- Countdown Timer -->
	 <h4>Tempo Restante</h4>
    <div id='countdown'></div>
	<!-- Countdown Timer Script -->
	</div>
	<br><br>
    <div id="uploadedImages"></div>
    <div id="passwordDiv">
        <label for="passwordInput">Senha:</label>
        <input type="password" id="passwordInput">
        <br><br>
        <button type="button" class="btn btn-outline-success" onclick="uploadImages()">Enviar</button>
        <button type="button" class="btn btn-outline-danger" onclick="hidePasswordDiv()">Cancelar</button>
    </div>
    <div id="incorrectPasswordDiv">
        Incorrect password!
        <br><br>
        <button type="button" class="btn btn-outline-primary" onclick="hideIncorrectPasswordDiv()">OK</button>
    </div>
    <script> 
      function countdown() {
        var days = document.getElementById('daysInput').value;
        var hours = document.getElementById('hoursInput').value;
        var minutes = document.getElementById('minutesInput').value;
        var seconds = document.getElementById('secondsInput').value;
        
        var countdown = document.getElementById('countdown');
        
        var x = setInterval(function() {
          seconds--;
          if (seconds == -1) {
            seconds = 59;
            minutes--;
          }
          if (minutes == -1) {
            minutes = 59;
            hours--;
          }
          if (hours == -1) {
            hours = 23;
            days--;
          }
          countdown.innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";
          
          if (days == 0 && hours == 0 && minutes == 0 && seconds == 0) {
            clearInterval(x);
            countdown.innerHTML = "TEMPO EXPIRADO";
          }
        }, 1000);
      }
      
      </script>

    <!-- Original Script -->
    <script>
        function showPasswordDiv() {
            var passwordDiv = document.getElementById("passwordDiv");
            passwordDiv.style.display = "block";
        }
        function hidePasswordDiv() {
            var passwordDiv = document.getElementById("passwordDiv");
            passwordDiv.style.display = "none";
        }
        function showIncorrectPasswordDiv() {
            var incorrectPasswordDiv = document.getElementById("incorrectPasswordDiv");
            incorrectPasswordDiv.style.display = "block";
        }
        function hideIncorrectPasswordDiv() {
            var incorrectPasswordDiv = document.getElementById("incorrectPasswordDiv");
            incorrectPasswordDiv.style.display = "none";
        }
        function uploadImages() {
            var passwordInput = document.getElementById("passwordInput");
            if (passwordInput.value === "mclove") {
                var imageInput = document.getElementById("imageInput");
                var daysInput = document.getElementById("daysInput");
                var hoursInput = document.getElementById("hoursInput");
                var minutesInput = document.getElementById("minutesInput");
                var secondsInput = document.getElementById("secondsInput");
                var uploadedImages = document.getElementById("uploadedImages");
                if (imageInput.files && imageInput.files.length > 0) {
                    for (var i = 0; i < imageInput.files.length; i++) {
                        var reader = new FileReader();
                        reader.onload = function(e) {
                            var uploadedImage = document.createElement("img");
                            uploadedImage.src = e.target.result;
                            uploadedImage.className = "uploadedImage";
                            uploadedImages.appendChild(uploadedImage);
                            var displayTime = (daysInput.value * 86400 + hoursInput.value * 3600 + minutesInput.value * 60 + secondsInput.value * 1) * 1000;
                            setTimeout(function() {
                                uploadedImages.removeChild(uploadedImage);
                            }, displayTime);
                        }
                        reader.readAsDataURL(imageInput.files[i]);
                    }
                }
                hidePasswordDiv();
                countdown();
            } else {
                showIncorrectPasswordDiv();
            }
        }
    </script>
</body>

</html>
